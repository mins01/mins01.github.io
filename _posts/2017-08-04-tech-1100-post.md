---
title: "링크: 이미지 외부 유출 방지용 웹서버 설정 (아파치 nginx)"
date: 2017-08-04 08:51:55 +0900
categories: [apache]
---

---------- apacheSetEnvIfNoCase "^(.*).도메인/" loacl_refe(변수명)     &amp;lt;Files ~ "\.(gif|jpg|jpeg|png|bmp|GIF|JPG|JPEG|PNG|BMP)$"&amp;gt;      Order deny,allow      Deny from env=local_refe(변수명)&amp;lt;/Files&amp;gt; ----------- apache 용 테스트 샘플SetEnvIfNoCase Referer "^(.*).09form.com/" local_refeSetEnvIfNoCase Referer "^(.*).blogspot.kr/" local_refeSetEnvIfNoCase Referer "^(.*).blogspot.com/" local_refeSetEnvIfNoCase Referer "^(.*).s-oilbonus.com/" local_refeSetEnvIfNoCase Referer "^(.*).storefarm.com/" local_refeSetEnvIfNoCase Referer "^(.*)storefarm.naver.com/" local_refeSetEnvIfNoCase Referer "^(.*).storefarm.naver.com/" local_refeSetEnvIfNoCase Referer "^(.*)swindow.naver.com/" local_refeSetEnvIfNoCase Referer "^(.*).brandi.co.kr/" local_refeSetEnvIfNoCase Referer "^(.*)blogId=mintchoco007" local_refeSetEnvIfNoCase Referer "^(.*)gmarket.co.kr/" local_refeSetEnvIfNoCase Referer "^(.*).gmarket.co.kr/" local_refe  
  
&lt;div&gt;---------- nginx&lt;/div&gt;&lt;div&gt;        location ~ \.(jpe?g|png|gif|JPE?G|PNG|GIF)$ {     &lt;/div&gt;&lt;div&gt;                valid_referers blocked server_ck      &lt;/div&gt;&lt;div&gt;                         ~egloos\.com/ ; (차단할 서버명, 스페이스로 구분)      &lt;/div&gt;&lt;div&gt;                if ($invalid_referer = '') {      &lt;/div&gt;&lt;div&gt;                        return 403 ;      &lt;/div&gt;&lt;div&gt;                }     &lt;/div&gt;&lt;div&gt;        }     &lt;/div&gt;- - - - - -

상세는 링크 따라가서 보면 설명이 되어있음.[https://phpschool.com/gnuboard4/bbs/board.php?bo_table=tipntech&amp;amp;wr_id=81613&amp;amp;sec=1&amp;amp;auto_login=&amp;amp;id_save=1](http://https://phpschool.com/gnuboard4/bbs/board.php?bo_table=tipntech&amp;wr_id=81613&amp;sec=1&amp;auto_login=&amp;id_save=1 "https://phpschool.com/gnuboard4/bbs/board.php?bo_table=tipntech&amp;amp;wr_id=81613&amp;amp;sec=1&amp;amp;auto_login=&amp;amp;id_save=1")WikixUnknown 글- - - - - -

- 아파치 관련 링크
- [https://httpd.apache.org/docs/2.2/howto/access.html](https://httpd.apache.org/docs/2.2/howto/access.html "https://httpd.apache.org/docs/2.2/howto/access.html")  : Access control by environment variable 부분
- [https://httpd.apache.org/docs/2.2/ko/mod/mod_authz_host.html](https://httpd.apache.org/docs/2.2/ko/mod/mod_authz_host.html "https://httpd.apache.org/docs/2.2/ko/mod/mod_authz_host.html") : order deny allow 관련 설정 설명서

- nginx 는.. 알아서 설정파일 스펙을 찾으시오.




[🔗link](http://www.mins01.com/mh/tech/read/1100)