---
title: "hander와 thread 없이 비동기 동작을 위한"
date: 2016-02-28 01:08:14 +0900
categories: [android]
---

&lt;span style="color:#000080;font-weight:bold;"&gt;private void &lt;/span&gt;firstAction(){  
    (&lt;span style="color:#000080;font-weight:bold;"&gt;new &lt;/span&gt;AsyncTask &amp;lt;MainActivity, Void, MainActivity&amp;gt;(){  
&lt;span style="color:#808000;"&gt;@Override  &amp;#xD;
&lt;/span&gt;&lt;span style="color:#808000;"&gt;&lt;/span&gt;&lt;span style="color:#000080;font-weight:bold;"&gt;protected &lt;/span&gt;MainActivity doInBackground(MainActivity... params) {  
&lt;span style="color:#000080;font-weight:bold;"&gt;return &lt;/span&gt;params[&lt;span style="color:#0000ff;"&gt;0&lt;/span&gt;];  
        }  
  
&lt;span style="color:#808000;"&gt;@Override  &amp;#xD;
&lt;/span&gt;&lt;span style="color:#808000;"&gt;&lt;/span&gt;&lt;span style="color:#000080;font-weight:bold;"&gt;protected void &lt;/span&gt;onPostExecute(MainActivity result) {  
&lt;span style="color:#808080;font-style:italic;"&gt;//super.onPostExecute(result);  &amp;#xD;
&lt;/span&gt;&lt;span style="color:#808080;font-style:italic;"&gt;&lt;/span&gt;result.firstLoad();  
        }  
  
    }).execute(&lt;span style="color:#000080;font-weight:bold;"&gt;this&lt;/span&gt;);  
}

  
MainActivity 속의 onCreate 안에서firstAction();라고 호출하면 따로 쓰레드를 만들어서MainActivity.firstLoad()를 호출하도록 만든 메소드.(&lt;span style="line-height: 1.42857;"&gt;firstLoad 메소드는 JSON통신, UI기본 설정 하는 등의 동작을 함)&lt;/span&gt;  
# 왜?&lt;div&gt;Skipped 64 frames!  The application may be doing too much work on its main thread.&lt;/div&gt;&lt;div&gt;같은 메세지가 나오면서 json 읽어오는 동작이 안되기에&lt;/div&gt;&lt;div&gt;따로 쓰레드를 만들어 동작하도록 함.&lt;/div&gt;#주의 doInBackground 안에서 UI를 제어하면 안됨. 에러남onPostExecute 안에서 해야함상세한건 한번 해보고 에러 검색해보자!(핸들러의 UI제어 가능 어쩌고 저쩌고 문제)


[🔗link](http://www.mins01.com/mh/tech/read/987)