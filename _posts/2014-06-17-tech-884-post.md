---
title: "log4j 2.x  "
date: 2014-06-17 13:39:16 +0900
categories: [java]
---

- ì•„íŒŒì¹˜ ë©”ë‰´ì–¼ ( [http://logging.apache.org/log4j/2.x/manual/index.html](http://logging.apache.org/log4j/2.x/manual/index.html "http://logging.apache.org/log4j/2.x/manual/index.html") )
- [ì„¤ì •](http://logging.apache.org/log4j/2.x/manual/configuration.html#Appenders "ì„¤ì •")
- ë©”ì´ë¸ì—ì„œ ì‚¬ìš©ì‹œ ì„¤ì •íŒŒì¼ ìœ„ì¹˜
- src/test/resources/log4j2-test.xml (testìš©)
- src/main/resources/log4j2.xml
- ì£¼ì˜Â log4j.xml ì—ì„œÂ log4j2.xml ë¡œ ì„¤ì • íŒŒì¼ ì´ë¦„ë¹„ ë°”ê¿¨ìŒ

-   



  
- - - - - -

#ê¸°ë³¸ ì‚¬ìš©&lt;div&gt;import com.foo.Bar;&lt;/div&gt;&lt;div&gt;Â &lt;/div&gt;&lt;div&gt;// Import log4j classes.&lt;/div&gt;&lt;div&gt;**import org.apache.logging.log4j.Logger;**&lt;/div&gt;&lt;div&gt;**import org.apache.logging.log4j.LogManager;**&lt;/div&gt;&lt;div&gt;Â &lt;/div&gt;&lt;div&gt;public class MyApp {&lt;/div&gt;&lt;div&gt;Â &lt;/div&gt;&lt;div&gt;// Define a static logger variable so that it references the&lt;/div&gt;&lt;div&gt;// Logger instance named "MyApp".&lt;/div&gt;&lt;div&gt;**static final Logger logger = LogManager.getLogger(MyApp.class.getName());**&lt;/div&gt;&lt;div&gt;Â &lt;/div&gt;&lt;div&gt;public static void main(String[] args) {&lt;/div&gt;&lt;div&gt;Â &lt;/div&gt;&lt;div&gt;// Set up a simple configuration that logs on the console.&lt;/div&gt;&lt;div&gt;Â &lt;/div&gt;&lt;div&gt;**&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;logger.trace("Entering application.");**&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Bar bar = new Bar();&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;if (!bar.doIt()) {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;**logger.error("Didn't do it.");&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;**&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}&lt;/div&gt;&lt;div&gt;**&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;logger.trace("Exiting application."); **Â  Â  Â  Â  Â  Â  Â  Â Â &lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;  
- - - - - -

#ê¸°ë³¸ ì„¤ì • íŒŒì¼ log4j2.xml (jsonë„ ê°€ëŠ¥)&lt;div&gt;&amp;amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;amp;gt;&lt;/div&gt;&lt;div&gt;&amp;amp;lt;configuration status="DEBUG"&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â &amp;amp;lt;appenders&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;Console name="Console" target="SYSTEM_OUT"&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n" /&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;/Console&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;!--&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;Socket name="socket" host="localhost" port="28080"&lt;/div&gt;&lt;div&gt;Â  Â immediateFlush="true"&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â --&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;!--&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;SerializedLayout /&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â --&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;!--&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;PatternLayout pattern="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n" /&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;/Socket&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  --&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â &amp;amp;lt;/appenders&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â &amp;amp;lt;loggers&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;root level="**error**"&amp;amp;gt; &amp;amp;lt;!-- ì´ ë¶€ë¶„ì„ debugë¡œ ë°”ê¾¸ë©´ ëª¨ë“  ë©”ì„¸ì§€ê°€ ë³´ì„ --&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;appender-ref ref="Console" /&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  Â &amp;amp;lt;!-- &amp;amp;lt;appender-ref ref="socket" /&amp;amp;gt; --&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â  &amp;amp;lt;/root&amp;amp;gt;&lt;/div&gt;&lt;div&gt;Â &amp;amp;lt;/loggers&amp;amp;gt;&lt;/div&gt;&lt;div&gt;&amp;amp;lt;/configuration&amp;amp;gt;&lt;/div&gt;  
  



[ğŸ”—link](http://www.mins01.com/mh/tech/read/884)