---
title: "ì „ìì •ë¶€ í”„ë ˆì„ì›Œí¬ì—ì„œ MyBatis ì‚¬ìš©"
date: 2014-03-06 16:08:16 +0900
categories: [java]
---

[ì„¤ëª…ì˜ëœê³³](http://mybatis.github.io/mybatis-3/ko/sqlmap-xml.html "ì„¤ëª…ì˜ëœê³³")  
- - - - - -

pom.xml  
&lt;!-- Â MyBatis --&gt;  
&lt;dependency&gt;  
 Â  Â &lt;groupId&gt;org.mybatis&lt;/groupId&gt;  
 Â  Â &lt;artifactId&gt;mybatis&lt;/artifactId&gt;  
 Â  Â &lt;version&gt;3.2.2&lt;/version&gt;  
&lt;/dependency&gt;  
- - - - - -

ì„¤ì •íŒŒì¼  
- - - - - -

context-mapper.xml // spring ìª½ì—ì„œ ì½ì–´ê°€ë„ë¡ ë˜ì–´ìˆì–´ì•¼í•¨.  
  
&lt;?xml version="1.0" encoding="UTF-8"?&gt;  
&lt;beans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xmlns:aop="http://www.springframework.org/schema/aop"  
xmlns:tx="http://www.springframework.org/schema/tx"  
xmlns:util="http://www.springframework.org/schema/util"  
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd  
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsdÂ   
http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd  
http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd"&gt;  
  
&lt;!-- SqlSession setup for MyBatis Database Layer --&gt;  
&lt;bean id="sqlSession" class="org.mybatis.spring.SqlSessionFactoryBean"&gt;  
&lt;property name="dataSource" ref="dataSource" /&gt;  
&lt;property name="configLocation" value="classpath:/egovframework/sqlmap/mybatis/sql-mapper-config.xml" /&gt;  
&lt;property name="mapperLocations" value="classpath:/egovframework/sqlmap/mybatis/mappers/*.xml" /&gt;  
&lt;/bean&gt;  
  
&lt;!-- MapperConfigurer setup for MyBatis Database Layer with @Mapper("deptMapper") in DeptMapper Interface --&gt;  
&lt;!-- @Mapper ì–´ë…¸ì¼€ì´ì…˜ì„ ì½ì–´ì˜¤ë„ë¡ í•œë‹¤.(ê·¸ëƒ¥ ë‹¤ë¥¸ê±° ì¨ë„ ë ê²ƒ ê°™ì€ë°-&gt;ì•ˆë˜ë”ë¼.) --&gt;  
Â &lt;bean class="egovframework.rte.psl.dataaccess.mapper.MapperConfigurer"&gt;  
&lt;property name="basePackage" value="temp" /&gt;  
&lt;/bean&gt;  
  
&lt;/beans&gt;- - - - - -

sql-mapper-config.xml  
  
&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;  
&amp;lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&amp;gt;  
  
&amp;lt;configuration&amp;gt;  
Â  Â  &amp;lt;!-- mapperì—ì„œ ì‚¬ìš©í•  íŒ¨í‚¤ì§€ê¹Œì§€ í‘œí˜„í•œ í´ë˜ìŠ¤ì˜ ë³„ì¹­, ë‹¨ìˆœí•œ ë³„ì¹­ì´ë‹¤. ì—†ì„ ê²½ìš° í’€íŒ¨ìŠ¤ë¡œ í‘œí˜„ --&amp;gt;  
Â  Â  &amp;lt;typeAliases&amp;gt;  
Â  Â Â &lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;typeAlias alias="TempVO" type="temp.example.TempVO" /&amp;gt;  
Â  Â Â &lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;  
Â  Â  &amp;lt;/typeAliases&amp;gt;  
Â  Â Â   
&amp;lt;!-- JAVAíŒŒì¼ì—ì„œ ì§€ì •í•  ê²ƒì´ë¼ì„œ ì—¬ê¸°ì„œ ì§€ì • ì•ˆí•¨.  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;mappers&amp;gt;  
Â  Â  Â  Â  &amp;lt;mapper resource="META-INF/sqlmap/mappers/mysql/department_mysql.xml" /&amp;gt;  
Â  Â  Â  Â  &amp;lt;mapper resource="META-INF/sqlmap/mappers/mysql/employee_mysql.xml" /&amp;gt;  
Â  Â &amp;lt;/mappers&amp;gt;Â   
Â --&amp;gt;  
Â   
&amp;lt;/configuration&amp;gt;- - - - - -

mapper_SQL_mysql.xml  
  
  
&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;  
&amp;lt;!DOCTYPE mapper Â  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&amp;gt;  
  
&amp;lt;mapper namespace="temp.ex.mybatis.ExMapper"&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;select id="selectList" parameterType="TempVO" resultType="TempVO"&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;![CDATA[  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;SELECT  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;USER_NAME,USER_NUMBER  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;FROM tbl_testp01Â   
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;WHERE 1=1  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;]]&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;if test="user_name != null and user_name != ''"&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;Â &lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;AND USER_NAME=#{user_name}  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;/if&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;if test="user_number != null Â and user_number != ''"&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;Â &lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;AND USER_NUMBER=#{user_number}  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;Â &amp;lt;/if&amp;gt;&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;Â   
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;/select&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;insert id="insert_tbl_testp01"&amp;gt;  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;INSERT INTO tbl_testp01Â   
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;( user_name  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;Â Â , user_number )  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;VALUES ( #{user_name}  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;Â Â , #{user_number} Â )  
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&amp;lt;/insert&amp;gt;  
&amp;lt;/mapper&amp;gt;  
&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;- - - - - -&amp;#xD;
&amp;#xD;
&lt;/div&gt;&lt;div&gt;JAVAíŒŒì¼&lt;/div&gt;&lt;div&gt;- @Controller  &amp;#xD;
public class ExController&amp;#xD;
- @Service("exService")  &amp;#xD;
public class ExServiceImpl&amp;#xD;
- @Mapper("exMapper")  &amp;#xD;
public interface ExMapper&amp;#xD;
// mapper_SQL_mysqlì—ì„œÂ namespaceë¡œ ì§€ì •ëœ ì¸í„°í˜ì´ìŠ¤,Â ExServiceImpl ì—ì„œÂ (List&amp;amp;lt;TempVO&amp;amp;gt;) exMapper.selectList(vo); ì²˜ëŸ¼ ë°”ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.&amp;#xD;
&amp;#xD;
&amp;#xD;
&amp;lt;div&amp;gt;DAOë¥¼ ì—†ì´ ì‚¬ìš©í–ˆë‹¤. Mapperë¡œ ì„¤ì •ë˜ë©´ ìë™ìœ¼ë¡œ DAOë¡œ ë§Œë“¤ì–´ë²„ë¦¬ëŠ” ë“¯... ì–´ë–»ê²Œ ê·¸ë˜ë˜ëŠ”ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;- - - - - -&amp;amp;#xD;
&amp;amp;#xD;
ì¿¼ë¦¬ë¥¼ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í•  ê²½ìš°&amp;lt;/div&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;div&amp;gt;import java.util.List;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;import org.apache.ibatis.annotations.Insert;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;import org.apache.ibatis.annotations.Select;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;import egovframework.rte.psl.dataaccess.mapper.Mapper;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;import temp.example.TempVO;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;@Mapper("exMapperByAnnotation")&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;public interface ExMapperByAnnotation {&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;/**&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt; * ê¸€ì„ ì¡°íšŒí•œë‹¤.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt; * @param vo - ì¡°íšŒí•  ì •ë³´ê°€ ë‹´ê¸´ SampleVO&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt; * @return ì¡°íšŒí•œ ê¸€&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt; * @exception Exception&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt; */&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;@Select("SELECT USER_NAME,USER_NUMBER FROM tbl_testp01 WHERE 1=1 AND USER_NAME=#{user_name} AND USER_NUMBER=#{user_number}")&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;List&amp;amp;amp;lt;TempVO&amp;amp;amp;gt; selectListByAnnotation(TempVO vo) throws Exception;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;@Insert("INSERT INTO tbl_testp01 ( user_name , user_number ) VALUES ( #{user_name} , #{user_number} Â )")&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;void insert_tbl_testp01ByAnnotation(TempVO vo) throws Exception;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;}&amp;lt;/div&amp;gt;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;mapperë¥¼ ìœ„ì²˜ëŸ¼ í•œë‹¤.&lt;/div&gt;&lt;div&gt;interfaceë¼ì„œ if ë“±ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ì–´ì„œ ë‚œê°í•˜ë„¤.&lt;/div&gt;&lt;div&gt;ë™ì  ì¿¼ë¦¬ê°€ ì§€ì›ì•ˆëœë‹¤.  &amp;#xD;
${XXXX}ë¥¼ ì“¸ ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•´ë´ì•¼ê² ë„¤.&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;


[ğŸ”—link](http://www.mins01.com/mh/tech/read/866)