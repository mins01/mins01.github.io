---
title: "ì „ìì •ë¶€ í”„ë ˆì„ì›Œí¬ì—ì„œ MyBatis ì‚¬ìš©"
date: 2014-03-06 16:08:16 +0900
categories: [java]
---

[ì„¤ëª…ì˜ëœê³³](http://mybatis.github.io/mybatis-3/ko/sqlmap-xml.html "ì„¤ëª…ì˜ëœê³³")  
- - - - - -

pom.xml  
  
<dependency>  
 Â  Â <groupid>org.mybatis</groupid>  
 Â  Â <artifactid>mybatis</artifactid>  
 Â  Â <version>3.2.2</version>  
</dependency>  
- - - - - -

ì„¤ì •íŒŒì¼  
- - - - - -

context-mapper.xml // spring ìª½ì—ì„œ ì½ì–´ê°€ë„ë¡ ë˜ì–´ìˆì–´ì•¼í•¨.  
  
<?xml version="1.0" encoding="UTF-8"??>
  
<beans xmlns="http://www.springframework.org/schema/beans"></beans>xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xmlns:aop="http://www.springframework.org/schema/aop"  
xmlns:tx="http://www.springframework.org/schema/tx"  
xmlns:util="http://www.springframework.org/schema/util"  
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd  
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsdÂ   
http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd  
http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd">  
  
  
<bean class="org.mybatis.spring.SqlSessionFactoryBean" id="sqlSession">  
<property name="dataSource" ref="dataSource"></property>  
<property name="configLocation" value="classpath:/egovframework/sqlmap/mybatis/sql-mapper-config.xml"></property>  
<property name="mapperLocations" value="classpath:/egovframework/sqlmap/mybatis/mappers/*.xml"></property>  
</bean>  
  
  
  
Â <bean class="egovframework.rte.psl.dataaccess.mapper.MapperConfigurer">  
<property name="basePackage" value="temp"></property>  
</bean>  
  
- - - - - -

sql-mapper-config.xml  
  
<?xml version="1.0" encoding="UTF-8"??>
  
  
  
<configuration>  &#xD;
Â  Â    &#xD;
Â  Â  &lt;typealiases&gt;  &amp;#xD;
Â  Â Â &amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;typealias alias="TempVO" type="temp.example.TempVO"&amp;gt;&amp;lt;/typealias&amp;gt;  &amp;#xD;
Â  Â Â &amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;  &amp;#xD;
Â  Â  &lt;/typealiases&gt;  &#xD;
Â  Â Â   &#xD;
  &#xD;
Â   &#xD;
</configuration>- - - - - -

mapper_SQL_mysql.xml  
  
  
<?xml version="1.0" encoding="UTF-8"??>
  
nbsp; PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;  
  
<mapper namespace="temp.ex.mybatis.ExMapper">  &#xD;
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&lt;select id="selectList" parametertype="TempVO" resulttype="TempVO"&gt;  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;SELECT  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;USER_NAME,USER_NUMBER  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;FROM tbl_testp01Â   &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;WHERE 1=1  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;]]&amp;amp;gt;  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;if test="user_name != null and user_name != ''"&amp;gt;  &amp;amp;#xD;
&amp;amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;Â &amp;amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;AND USER_NAME=#{user_name}  &amp;amp;#xD;
&amp;amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;&amp;lt;/if&amp;gt;  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;if test="user_number != null Â and user_number != ''"&amp;gt;  &amp;amp;#xD;
&amp;amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;Â &amp;amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;AND USER_NUMBER=#{user_number}  &amp;amp;#xD;
&amp;amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;Â &amp;lt;/if&amp;gt;&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;Â   &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;&lt;/select&gt;  &#xD;
&lt;span class="Apple-tab-span" style="white-space: pre;"&gt;&lt;/span&gt;&lt;insert id="insert_tbl_testp01"&gt;  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;INSERT INTO tbl_testp01Â   &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;( user_name  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;Â Â , user_number )  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;VALUES ( #{user_name}  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;Â Â , #{user_number} Â )  &amp;#xD;
&amp;lt;span class="Apple-tab-span" style="white-space: pre;"&amp;gt;&amp;lt;/span&amp;gt;&lt;/insert&gt;  &#xD;
</mapper>  
  &#xD;
- - - - - -&#xD;
&#xD;
JAVAíŒŒì¼- @Controller  &#xD;
public class ExController&#xD;
- @Service("exService")  &#xD;
public class ExServiceImpl&#xD;
- @Mapper("exMapper")  &#xD;
public interface ExMapper&#xD;
// mapper_SQL_mysqlì—ì„œÂ namespaceë¡œ ì§€ì •ëœ ì¸í„°í˜ì´ìŠ¤,Â ExServiceImpl ì—ì„œÂ (List&lt;tempvo&gt;) exMapper.selectList(vo); ì²˜ëŸ¼ ë°”ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.&lt;/tempvo&gt;&#xD;
&#xD;
&#xD;
&lt;div&gt;DAOë¥¼ ì—†ì´ ì‚¬ìš©í–ˆë‹¤. Mapperë¡œ ì„¤ì •ë˜ë©´ ìë™ìœ¼ë¡œ DAOë¡œ ë§Œë“¤ì–´ë²„ë¦¬ëŠ” ë“¯... ì–´ë–»ê²Œ ê·¸ë˜ë˜ëŠ”ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ.&lt;/div&gt;&lt;div&gt;- - - - - -&amp;#xD;
&amp;#xD;
ì¿¼ë¦¬ë¥¼ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í•  ê²½ìš°&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;import java.util.List;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;import org.apache.ibatis.annotations.Insert;&lt;/div&gt;&lt;div&gt;import org.apache.ibatis.annotations.Select;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;import egovframework.rte.psl.dataaccess.mapper.Mapper;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;import temp.example.TempVO;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;@Mapper("exMapperByAnnotation")&lt;/div&gt;&lt;div&gt;public interface ExMapperByAnnotation {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;/**&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt; * ê¸€ì„ ì¡°íšŒí•œë‹¤.&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt; * @param vo - ì¡°íšŒí•  ì •ë³´ê°€ ë‹´ê¸´ SampleVO&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt; * @return ì¡°íšŒí•œ ê¸€&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt; * @exception Exception&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt; */&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;@Select("SELECT USER_NAME,USER_NUMBER FROM tbl_testp01 WHERE 1=1 AND USER_NAME=#{user_name} AND USER_NUMBER=#{user_number}")&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;List&amp;lt;tempvo&amp;gt; selectListByAnnotation(TempVO vo) throws Exception;&amp;lt;/tempvo&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;@Insert("INSERT INTO tbl_testp01 ( user_name , user_number ) VALUES ( #{user_name} , #{user_number} Â )")&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;void insert_tbl_testp01ByAnnotation(TempVO vo) throws Exception;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;  &#xD;
mapperë¥¼ ìœ„ì²˜ëŸ¼ í•œë‹¤.interfaceë¼ì„œ if ë“±ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ì–´ì„œ ë‚œê°í•˜ë„¤.ë™ì  ì¿¼ë¦¬ê°€ ì§€ì›ì•ˆëœë‹¤.  &#xD;
${XXXX}ë¥¼ ì“¸ ìˆ˜ ìˆëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•´ë´ì•¼ê² ë„¤.  &#xD;
  &#xD;



[ğŸ”—link](http://www.mins01.com/mh/tech/read/866)