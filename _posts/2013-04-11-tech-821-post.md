---
title: "URLì˜ queryString (qstr,search) ë¥¼ ì—°ê´€ë°°ì—´(ê°ì²´)ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜"
date: 2013-04-11 16:24:40 +0900
categories: 
---
  

/**

* parseQstr

* String qstr : URLì˜ QueryString, location.search ë“±

* bool decode : ë°›ì€ ê°’ì„ ë””ì½”ë”© ì²˜ë¦¬í•  ê²ƒì¸ê°€?(ì˜µì…˜)

*/

function parseQstr(qstr,decode){

	if(decode==undefined){decode = false;}

	var pt = /(?:\?|&amp;|^)([^&amp;=]+)=([^&amp;=]+)(?:&amp;|$)/;

	//var arr = qstr.match(pt);

	//var arr = pt.exec(qstr);

	var Rs = {};

	var arr,k,v;

	var qarr = qstr.split('&amp;');

	for(var i=0,m=qarr.length;i&lt;m;i++){

		arr = qarr[i].match(pt);

		if(arr == null) continue;

		k = arr[1];

		if(decode){

			v = arr[2];

		}else{

			v = decodeURIComponent(arr[2].replace('+',' '));

		}

		if(!Rs.hasOwnProperty(k)){

			Rs[k] = v;

		}else if(Rs[k].constructor == String){

			Rs[k] = [Rs[k]];

			Rs[k].push(v);

		}else{

			Rs[k].push(v);

		}

	}

	return Rs

}





var qstr = '?UnitId=24006&amp;nick=ê³µëŒ€ì—¬ì&amp;nick=ê³µëŒ€ì—¬ì2&amp;UUN=632a4c164e425e695dbbf243d5ba201b';

var Rs = parseQstr(qstr);



- - - - - -



ê²°ê³¼ëŠ”

  
1. Rs:Â Object
1. UUN:Â "632a4c164e425e695dbbf243d5ba201b"
2. UnitId:Â "24006"
3. nick:Â Array[2]
1. 0:Â "ê³µëŒ€ì—¬ì"
2. 1:Â "ê³µëŒ€ì—¬ì2"
3. length:Â 2





ì´ëŸ° ëª¨ì–‘ì´ ë¨.

-------=--------

ë§Œë“¤ê³  ë³´ë‹ˆê¹

_M ì— ê±°ì˜ ê°™ì€ê²Œ ìˆë„¤...



  ***
[ğŸ”—link](http://www.mins01.com/mh/tech/read/821)