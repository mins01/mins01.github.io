---
title: "URLì˜ queryString (qstr,search) ë¥¼ ì—°ê´€ë°°ì—´(ê°ì²´)ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜"
date: 2013-04-11 16:24:40 +0900
categories: [javascript]
---

/*** parseQstr* String qstr : URLì˜ QueryString, location.search ë“±* bool decode : ë°›ì€ ê°’ì„ ë””ì½”ë”© ì²˜ë¦¬í•  ê²ƒì¸ê°€?(ì˜µì…˜)*/&lt;div&gt;function parseQstr(qstr,decode){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;if(decode==undefined){decode = false;}&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var pt = /(?:\?|&amp;amp;amp;|^)([^&amp;amp;amp;=]+)=([^&amp;amp;amp;=]+)(?:&amp;amp;amp;|$)/;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//var arr = qstr.match(pt);&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//var arr = pt.exec(qstr);&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var Rs = {};&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var arr,k,v;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var qarr = qstr.split('&amp;amp;amp;');&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;for(var i=0,m=qarr.length;i&amp;lt;m&amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;arr = qarr[i].match(pt);&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;if(arr == null) continue;&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;k = arr[1];&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;if(decode){&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;v = arr[2];&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;}else{&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;v = decodeURIComponent(arr[2].replace('+',' '));&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;}&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;if(!Rs.hasOwnProperty(k)){&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;Rs[k] = v;&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;}else if(Rs[k].constructor == String){&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;Rs[k] = [Rs[k]];&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;Rs[k].push(v);&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;}else{&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;Rs[k].push(v);&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;}&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;}&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;&amp;amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;amp;gt;&amp;amp;amp;lt;/span&amp;amp;amp;gt;return Rs&amp;amp;lt;/div&amp;amp;gt;&amp;amp;lt;div&amp;amp;gt;}&amp;amp;lt;/div&amp;amp;gt;&amp;lt;/m&amp;gt;&lt;/div&gt;var qstr = '?UnitId=24006&amp;amp;nick=ê³µëŒ€ì—¬ì&amp;amp;nick=ê³µëŒ€ì—¬ì2&amp;amp;UUN=632a4c164e425e695dbbf243d5ba201b';var Rs = parseQstr(qstr);- - - - - -&#xD;
&#xD;
ê²°ê³¼ëŠ”  &#xD;
1. &lt;span class="name" style="box-sizing: border-box; color: rgb(136, 19, 145);"&gt;Rs&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-object" style="box-sizing: border-box; position: static; display: inline; vertical-align: top;" title="Object"&gt;Object&lt;/span&gt;&#xD;
1. &lt;span class="name" style="box-sizing: border-box; color: rgb(136, 19, 145);"&gt;UUN&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-string" style="box-sizing: border-box; color: rgb(196, 26, 22); white-space: pre;" title="632a4c164e425e695dbbf243d5ba201b"&gt;"632a4c164e425e695dbbf243d5ba201b"&lt;/span&gt;&#xD;
2. &lt;span class="name" style="box-sizing: border-box; color: rgb(136, 19, 145);"&gt;UnitId&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-string" style="box-sizing: border-box; color: rgb(196, 26, 22); white-space: pre;" title="24006"&gt;"24006"&lt;/span&gt;&#xD;
3. &lt;span class="name" style="box-sizing: border-box; color: rgb(136, 19, 145);"&gt;nick&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-array" style="box-sizing: border-box; position: relative; display: inline-block; vertical-align: top;" title="Array[2]"&gt;Array[2]&lt;/span&gt;&#xD;
1. &lt;span class="name" style="box-sizing: border-box; color: rgb(136, 19, 145);"&gt;0&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-string" style="box-sizing: border-box; color: rgb(196, 26, 22); white-space: pre;" title="ê³µëŒ€ì—¬ì"&gt;"ê³µëŒ€ì—¬ì"&lt;/span&gt;&#xD;
2. &lt;span class="name" style="box-sizing: border-box; color: rgb(136, 19, 145);"&gt;1&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-string" style="box-sizing: border-box; color: rgb(196, 26, 22); white-space: pre;" title="ê³µëŒ€ì—¬ì2"&gt;"ê³µëŒ€ì—¬ì2"&lt;/span&gt;&#xD;
3. &lt;span class="name dimmed" style="box-sizing: border-box; color: rgb(136, 19, 145); opacity: 0.6;"&gt;length&lt;/span&gt;&lt;span class="separator" style="box-sizing: border-box;"&gt;:Â &lt;/span&gt;&lt;span class="value console-formatted-number" style="box-sizing: border-box; color: rgb(28, 0, 207);" title="2"&gt;2&lt;/span&gt;&#xD;
&#xD;
&#xD;
&#xD;
ì´ëŸ° ëª¨ì–‘ì´ ë¨.-------=--------ë§Œë“¤ê³  ë³´ë‹ˆê¹_M ì— ê±°ì˜ ê°™ì€ê²Œ ìˆë„¤...


[ğŸ”—link](http://www.mins01.com/mh/tech/read/821)