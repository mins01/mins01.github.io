---
title: "node.js ë¡œ ë§Œë“  ë©€í‹° í”„ë¡œì„¸ìŠ¤(ë©€í‹° ì°¨ì¼ë“œ í”„ë¡œì„¸ìŠ¤)"
date: 2014-12-19 14:37:07 +0900
categories: [weblang]
---

ë§ì´ ì¢‹ì•„ ë©€í‹° í”„ë¡œì„¸ìŠ¤ì§€...

ê·¸ëƒ¥ ì„¤ì •ëœ ëª…ë ¹ì–´ë¥¼ ì§€ì •ìˆ˜ ë§Œí¼ child processë¡œ í˜¸ì¶œì¶œë ¥ê°’ì„ í™”ë©´ì— ì°ì–´ì£¼ëŠ” ê²ƒ.(ì„¤ì •ìœ¼ë¡œ lineê¸°ì¤€ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆë‹¤.)  
í…ŒìŠ¤íŠ¸ëŠ”Â &amp;gt;node test.multi_process.js(í…ŒìŠ¤íŠ¸ì—ì„œ ì™¸ë¶€ í˜¸ì¶œ ëª…ë ¹ì—ì„œ .php ê°€ ì‚¬ìš©ë˜ì—ˆìŒ. phpê°€ ì„¤ì¹˜ë˜ì–´ìˆì–´ì•¼í•¨)  
//--4ê°œ ëª…ë ¹ì–´ë¥¼ (cpuëŠ” 4ì½”ì–´)- 1ê°œì”© ì‹¤í–‰ í•  ê²½ìš° : excute time:39623
- 2ê°œì”© ì‹¤í–‰ í•  ê²½ìš° :Â excute time:19837
- 3ê°œì”© ì‹¤í–‰ í•  ê²½ìš° :Â excute time:19867
- 2ê°œì™€ ì°¨ì´ê°€ ê±°ì˜ ì—†ëŠ” ì´ìœ ëŠ” 4ê°œì¤‘ 3ê°œ ì‹¤í–‰ í›„ 1ê°œë¥¼ ì‹¤í–‰í•˜ëŠ”ë°,   
ê·¸ë£¹ìœ¼ë¡œ ë³´ë©´ (3)+(1) ì—ì„œ (3)ì˜ ì‹¤í–‰ì‹œê°„ì´ë‚˜ (1)ì˜ ì‹¤í–‰ ì‹œê°„ì´ ê°™ë‹¤.  
ì´ê±´ (2)+(2)ë¡œ í•´ë„ ê°™ë‹¤.
- ì¦‰, ìˆœì°¨ë¡œ 2ë²ˆ ì‹¤í–‰í•˜ëŠ” ì‹œê°„ê³¼ ê°™ë‹¤.

- 4ê°œì”© ì‹¤í–‰ í•  ê²½ìš° : excute time:10192

  
//--useReadlineë¥¼ ì‚¬ìš©í•œ ê²½ìš° (ë¼ì¸ ë‹¨ìœ„ë¡œ ì œì–´)-&amp;gt; ë§Œë“  ì´ìœ ê°€ ëŒ€ìš©ëŸ‰ì˜ fileì„ lineë‹¨ìœ„ë¡œ ì²˜ë¦¬í• ê²½ìš°, íŒŒì¼ì„ ì˜ë¼ì„œ í•´ë‹¹ ë¶€ë¶„ì„ ì²˜ë¦¬í›„ ë°”ë¡œ ì¶œë ¥í•˜ë©´ ëë‚˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ-&amp;gt; ë™ì‹œì— 4ê°œê°€ ì¶œë ¥í•´ë„ ë¼ì¸ ë‹¨ìœ„ë¡œ ë§ì¶°ì„œ ì¶œë ¥ë¨(ìˆœì„œëŠ” ë’¤ì£½ë°•ì£½ì´ë¼ë„ lineì†ì˜ ë‚´ìš©ì€ ì„ì´ì§€ ì•ŠìŒ)&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;firstCmd&lt;/div&gt;&lt;div&gt;2: SLEEP(1)&lt;/div&gt;&lt;div&gt;1: SLEEP(1)&lt;/div&gt;&lt;div&gt;0: SLEEP(1)&lt;/div&gt;&lt;div&gt;3: SLEEP(1)&lt;/div&gt;&lt;div&gt;000020000200002000020000200002000020000200002 , 2014-12-19 15:03:03 END : 2&lt;/div&gt;&lt;div&gt;000010000100001000010000100001000010000100001 , 2014-12-19 15:03:03 END : 1&lt;/div&gt;&lt;div&gt;000000000000000000000000000000000000000000000 , 2014-12-19 15:03:03 END : 0&lt;/div&gt;&lt;div&gt;000030000300003000030000300003000030000300003 , 2014-12-19 15:03:03 END : 3&lt;/div&gt;&lt;div&gt;lastCmd&lt;/div&gt;&lt;div&gt;! excute time:10233&lt;/div&gt;  
-----=------useReadlineë¥¼ ì‚¬ìš© ì•ˆí•œ ê²½ìš° (ë°”ë¡œ ì¶œë ¥)(ë‚´ìš©ì´ ë’¤ì„ì¸ë‹¤.)  
&lt;div&gt;firstCmd&lt;/div&gt;&lt;div&gt;1: SLEEP(1)&lt;/div&gt;&lt;div&gt;0000132: SLEEP(1: SLEEP(1))&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;00000200030: SLEEP(1)&lt;/div&gt;&lt;div&gt;00000000010000030002000000000100000300020000000001000002000300000000010000030002&lt;/div&gt;&lt;div&gt;00000000010000030002000000000100000200030000000001000003000200000000010000020003&lt;/div&gt;&lt;div&gt;00000 , 2014-12-19 15:03:46 END : 1&lt;/div&gt;&lt;div&gt;Â , 2014-12-19 15:03:46 Â , 2014-12-19 15:03:46END : 2&lt;/div&gt;&lt;div&gt;Â END : 3&lt;/div&gt;&lt;div&gt;Â , 2014-12-19 15:03:46 END : 0&lt;/div&gt;&lt;div&gt;lastCmd&lt;/div&gt;&lt;div&gt;! excute time:10127&lt;/div&gt;  
//-------test.php  
&lt;div&gt;&amp;amp;lt;?&lt;/div&gt;&lt;div&gt;ob_implicit_flush(1); // ë°”ë¡œ ì¶œë ¥í•˜ë„ë¡ ì„¤ì •(ì¶œë ¥ ë²„í¼ê°€ ë™ì‘ ì•ˆí•œë‹¤)&lt;/div&gt;&lt;div&gt;ob_end_clean(); //ì¶œë ¥ ë²„í¼ë¥¼ ë¹„ìš´ë‹¤.(ì´ê±¸ ì•ˆí•˜ë©´ ì´ì „ ì¶œë ¥ ë²„í¼ê°€ ë°ì´í„°ë¥¼ ë²„í¼ì²˜ë¦¬ í•˜ê³ ìˆë‹¤.)&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;//$r = rand(0,1);&lt;/div&gt;&lt;div&gt;$r = 1;&lt;/div&gt;&lt;div&gt;echo $_SERVER['argv'][1].": SLEEP(".$r,")\n";&lt;/div&gt;&lt;div&gt;//sleep($r);&lt;/div&gt;&lt;div&gt;$icnt = 10;&lt;/div&gt;&lt;div&gt;while(--$icnt){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;echo sprintf('%05d',$_SERVER['argv'][1]);&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;usleep(500000); //0.5ì´ˆ&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;echo " , ".date("Y-m-d H:i:s")," END : {$_SERVER['argv'][1]}\n";&lt;/div&gt;&lt;div&gt;?&amp;amp;gt;&lt;/div&gt;


[ğŸ”—link](http://www.mins01.com/mh/tech/read/914)