---
title: "[기본형] 크론탭용 crontab sh"
date: 2015-08-25 15:33:07 +0900
categories: [crontab, default, linux, server, 기본형]
---

&lt;div&gt;#기본형 #default #crontab #linux&lt;/div&gt;  
  
&lt;div&gt;#!/bin/bash&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;cd ${0%/*} 2&amp;amp;gt;/dev/null&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;pid_file="$0.pid"&lt;/div&gt;&lt;div&gt;if [ -f "$pid_file" ] #중복 실행 방지&lt;/div&gt;&lt;div&gt;then&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;echo "$pid_file found."&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;#rm -f "$pid_file" #for Test&lt;/div&gt;&lt;div&gt;else&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;#echo "$pid_file not found."&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;echo "$$" &amp;amp;gt; "$pid_file"&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;php -f sample.php 0 &amp;amp;gt;&amp;amp;gt; "$0.log"  2&amp;amp;gt;&amp;amp;amp;1&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;rm -f "$pid_file"&lt;/div&gt;&lt;div&gt;fi&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;cd -&lt;/div&gt;  



[🔗link](http://www.mins01.com/mh/tech/read/965)