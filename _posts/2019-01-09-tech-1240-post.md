---
title: "라라벨, laravel 로 샘플 만들어 보자. (1) - Migration,Controller,Route"
date: 2019-01-09 14:32:12 +0900
categories: [라라벨, laravel, sample]
---

### 마이그레이션

`$ php artisan make:migration simple_commentCreated Migration: 2019_01_09_050609_simple_comment`&lt;div&gt;&lt;/div&gt;`file : database/migrations/2019_01_09_050609_simple_comment.phpclass SimpleComment extends Migration{  /**  * Run the migrations.  *  * @return void  */  public function up()  {    Schema::create('simple_comments', function (Blueprint $table) {      $table-&gt;increments('sc_id');      $table-&gt;string('sc_name',50);      $table-&gt;string('sc_pass',255);      $table-&gt;text('sc_comment');      $table-&gt;timestamps();      // $table-&gt;timestamp('created_at');      // $table-&gt;timestamp('updated_at');      $table-&gt;timestamp('deleted_at')-&gt;nullable();      $table-&gt;rememberToken();          });  }    /**  * Reverse the migrations.  *  * @return void  */  public function down()  {    Schema::dropIfExists('simple_comments');  }}`&lt;div&gt;&lt;/div&gt;`&lt;div&gt;$ php artisan migrate&lt;/div&gt;&lt;div&gt;Migrating: 2019_01_09_050609_simple_comment&lt;/div&gt;&lt;div&gt;Migrated:  2019_01_09_050609_simple_comment&lt;/div&gt;`&lt;div&gt;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;- - - - - -

### DB TABLE

&lt;div&gt;&lt;/div&gt;`&lt;div&gt;Field           Type              Collation           Null    Key     Default  Extra           Privileges                       Comment  &lt;/div&gt;&lt;div&gt;--------------  ----------------  ------------------  ------  ------  -------  --------------  -------------------------------  ---------&lt;/div&gt;&lt;div&gt;sc_id           int(10) unsigned  (NULL)              NO      PRI     (NULL)   auto_increment  select,insert,update,references           &lt;/div&gt;&lt;div&gt;sc_name         varchar(50)       utf8mb4_unicode_ci  NO              (NULL)                   select,insert,update,references           &lt;/div&gt;&lt;div&gt;sc_pass         varchar(255)      utf8mb4_unicode_ci  NO              (NULL)                   select,insert,update,references           &lt;/div&gt;&lt;div&gt;sc_comment      text              utf8mb4_unicode_ci  NO              (NULL)                   select,insert,update,references           &lt;/div&gt;&lt;div&gt;created_at      timestamp         (NULL)              YES             (NULL)                   select,insert,update,references           &lt;/div&gt;&lt;div&gt;updated_at      timestamp         (NULL)              YES             (NULL)                   select,insert,update,references           &lt;/div&gt;&lt;div&gt;deleted_at      timestamp         (NULL)              YES             (NULL)                   select,insert,update,references           &lt;/div&gt;&lt;div&gt;remember_token  varchar(100)      utf8mb4_unicode_ci  YES             (NULL)                   select,insert,update,references    &lt;/div&gt;`&lt;div&gt;       &lt;/div&gt;- - - - - -

### Model 생성

&lt;div&gt;&lt;/div&gt;`&lt;div&gt;$ php artisan make:model SimpleComment&lt;/div&gt;&lt;div&gt;Model created successfully.&lt;/div&gt;`&lt;div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;`&lt;div&gt;file : app/SimpleComment.php&lt;/div&gt;&lt;div&gt;&lt;div&gt;namespace App;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/br&gt;&lt;/div&gt;&lt;div&gt;use Illuminate\Database\Eloquent\Model;&lt;/div&gt;&lt;div&gt;use Illuminate\Database\Eloquent\SoftDeletes;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/br&gt;&lt;/div&gt;&lt;div&gt;class SimpleComment extends Model&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;use SoftDeletes;&lt;/div&gt;&lt;div&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;protected $primaryKey ='sc_id'; //없을 경우 id 가 기본값&lt;/div&gt;&lt;div&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;protected $dates = ['deleted_at'];&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;`&lt;div&gt;&lt;/div&gt;### Controller 생성 (resource규칙 적용)

`$ php artisan make:controller SimpleCommentController -m SimpleComment -r --apiController created successfully.`&lt;div&gt;&lt;/div&gt;### Route 적용

`routes/api.phpRoute::resource('sc', 'SimpleCommentController');`  
  
&lt;div&gt;&lt;/div&gt;`&lt;div&gt;$ php artisan route:list&lt;/div&gt;&lt;div&gt;+--------+-----------+------------------+------------+------------------------------------------------------+--------------+&lt;/div&gt;&lt;div&gt;| Domain | Method    | URI              | Name       | Action                                               | Middleware   |&lt;/div&gt;&lt;div&gt;+--------+-----------+------------------+------------+------------------------------------------------------+--------------+&lt;/div&gt;&lt;div&gt;|        | GET|HEAD  | /                |            | Closure                                              | web          |&lt;/div&gt;&lt;div&gt;|        | GET|HEAD  | api/sc           | sc.index   | App\Http\Controllers\SimpleCommentController@index   | api          |&lt;/div&gt;&lt;div&gt;|        | POST      | api/sc           | sc.store   | App\Http\Controllers\SimpleCommentController@store   | api          |&lt;/div&gt;&lt;div&gt;|        | GET|HEAD  | api/sc/create    | sc.create  | App\Http\Controllers\SimpleCommentController@create  | api          |&lt;/div&gt;&lt;div&gt;|        | GET|HEAD  | api/sc/{sc}      | sc.show    | App\Http\Controllers\SimpleCommentController@show    | api          |&lt;/div&gt;&lt;div&gt;|        | PUT|PATCH | api/sc/{sc}      | sc.update  | App\Http\Controllers\SimpleCommentController@update  | api          |&lt;/div&gt;&lt;div&gt;|        | DELETE    | api/sc/{sc}      | sc.destroy | App\Http\Controllers\SimpleCommentController@destroy | api          |&lt;/div&gt;&lt;div&gt;|        | GET|HEAD  | api/sc/{sc}/edit | sc.edit    | App\Http\Controllers\SimpleCommentController@edit    | api          |&lt;/div&gt;&lt;div&gt;|        | GET|HEAD  | api/user         |            | Closure                                              | api,auth:api |&lt;/div&gt;&lt;div&gt;+--------+-----------+------------------+------------+------------------------------------------------------+--------------+&lt;/div&gt;`&lt;div&gt;&lt;/div&gt;  
  
  



[url](http://www.mins01.com/mh/tech/read/1240)