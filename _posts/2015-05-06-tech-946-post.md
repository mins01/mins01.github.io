---
title: "Object.defineProperty() , Object.defineProperties()"
date: 2015-05-06 11:19:32 +0900
categories: [javascript]
---

- Object.defineProperty() 
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")
- [https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx](https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx "https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx")

- Object.defineProperties()
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties")
- [https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx](https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx "https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx")


- - - - - -

간단설명객체의 프로퍼티를 설정한다.  
물론 obj.p = "x" 처럼 할 수 있는데.  
위 메소드를 사용하면 상세 설정이 가능. readOnly, 커스터마이즈된 get 과 set 등등  
- - - - - -

- ECNAScript 5.1부터 지원.
- IE는 8에서 부분 지원, 9부터 정식 지원

&lt;div&gt;- - - - - -&amp;#xD;
&amp;#xD;
&lt;/div&gt;&lt;div&gt;&amp;lt;div&amp;gt;Object.defineProperty(obj, prop, descriptor)&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;# 기본 설정 및 설명&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;descriptor = {&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;configurable:flase, //true일 경우 프로퍼티 삭제(delete obj.prop) 가능, writable 설정 변경 가능&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;enumerable:false, //true일 경우 for(var x in obj) 에서 프로퍼티로 보임&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;value:undefined, //기본값 설정. get,set 과 같이 사용 불가.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;writable:false, //값 수정 가능 여부.  get,set 과 같이 사용 불가.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;get:undefined, //obj.prop 에서 값을 가져올 때 동작. value,writable 과 같이 사용 불가&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;set:undefined, //obj.prop 에 값을 넣을 때 동작. value,writable 과 같이 사용 불가&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;}&amp;lt;/div&amp;gt;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;- - - - - -&amp;#xD;
&amp;#xD;
예제 1&lt;/div&gt;&lt;div&gt;var o = {};&lt;/div&gt;&lt;div&gt;(function(o){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var _name = "";&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(o, 'name', {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;get:function(){ return _name; },&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;set:function(wcb){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;return function(newValue){ &lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;return _name = newValue+"_new";&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}(o),&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//value:"init", //기본값 (get,set 과 같이 사용불가)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//writable: true, //값 수정 가능여부 (get,set 과 같이 사용불가)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;enumerable: true, //목록 열거시 표시여부&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;configurable: true //삭제 가능여부. writable 속성 변경 가능 여부&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;});&lt;/div&gt;&lt;div&gt;})(o);&lt;/div&gt;&lt;div&gt;o.x = "xVal"&lt;/div&gt;&lt;div&gt;o.y = "yVal"&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;console.log(o.name); //기본값 _name의 값인  ""가 나와야함.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; ""&lt;/div&gt;&lt;div&gt;o.name = "111"; //set 111_new 가 될 것으로 예상.&lt;/div&gt;&lt;div&gt;console.log(o.name); //get 111_new 를 출력&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; 111_new&lt;/div&gt;&lt;div&gt;for(var x in o){&lt;/div&gt;&lt;div&gt;console.log(x)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; name,x,y&lt;/div&gt;&lt;div&gt;delete o.name //삭제시도.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; true&lt;/div&gt;&lt;div&gt;console.log(o.name); //삭제 안되고 값니 나와야함.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; undefined&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;for(var x in o){ //삭제되어서 사라짐&lt;/div&gt;&lt;div&gt;console.log(x)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; x,y&lt;/div&gt;  
- - - - - -

예제2  
&lt;div&gt;var o = {};&lt;/div&gt;&lt;div&gt;(function(o){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var _name = "";&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(o, 'name', {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;value:"init", //기본값 (get,set 과 같이 사용불가)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;writable: false, //값 수정 가능여부 (get,set 과 같이 사용불가)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;enumerable: false, //목록 열거시 표시여부&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//configurable: false //삭제 가능여부. writable 속성 변경 가능 여부&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;});&lt;/div&gt;&lt;div&gt;})(o);&lt;/div&gt;&lt;div&gt;o.x = "xVal"&lt;/div&gt;&lt;div&gt;o.y = "yVal"&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;console.log(o.name); //기본값 undefined가 나와야함.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; init&lt;/div&gt;&lt;div&gt;o.name = "111"; //값이 수정 안되야함. (writable: false 효과)&lt;/div&gt;&lt;div&gt;console.log(o.name); //init 를 출력&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; init&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;for(var x in o){&lt;/div&gt;&lt;div&gt;console.log(x)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; x,y //name은 출력 안됨. (enumerable: false 효과)&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;- - - - - -

input.value 를 재정의 하는 경우https://stackoverflow.com/questions/42427606/event-when-input-value-is-changed-by-javascript  
&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;descriptor.set = function(val) {&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//changing to native setter to prevent the loop while setting the value&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(this, "value", {set:inputSetter});&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;this.value = val;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//Custom code triggered when $input.value is set&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;console.log("Value set: "+val);&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//changing back to custom setter&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(this, "value", descriptor);   &lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;$(this.parentNode).attr("data-val",val);&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//Last add the new "value" descriptor to the $input element&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(el, "value", descriptor);&lt;/div&gt;  
  



[🔗link](http://www.mins01.com/mh/tech/read/946)