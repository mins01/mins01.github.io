---
title: "Object.defineProperty() , Object.defineProperties()"
date: 2015-05-06 11:19:32 +0900
categories: [javascript]
---

- Object.defineProperty() 
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")
- [https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx](https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx "https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx")

- Object.defineProperties()
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties")
- [https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx](https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx "https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx")


- - - - - -

간단설명객체의 프로퍼티를 설정한다.  
물론 obj.p = "x" 처럼 할 수 있는데.  
위 메소드를 사용하면 상세 설정이 가능. readOnly, 커스터마이즈된 get 과 set 등등  
- - - - - -

- ECNAScript 5.1부터 지원.
- IE는 8에서 부분 지원, 9부터 정식 지원

- - - - - -&#xD;
&#xD;
&lt;div&gt;Object.defineProperty(obj, prop, descriptor)&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;# 기본 설정 및 설명&lt;/div&gt;&lt;div&gt;descriptor = {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;configurable:flase, //true일 경우 프로퍼티 삭제(delete obj.prop) 가능, writable 설정 변경 가능&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;enumerable:false, //true일 경우 for(var x in obj) 에서 프로퍼티로 보임&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;value:undefined, //기본값 설정. get,set 과 같이 사용 불가.&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;writable:false, //값 수정 가능 여부.  get,set 과 같이 사용 불가.&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;get:undefined, //obj.prop 에서 값을 가져올 때 동작. value,writable 과 같이 사용 불가&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;set:undefined, //obj.prop 에 값을 넣을 때 동작. value,writable 과 같이 사용 불가&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;  &#xD;
- - - - - -&#xD;
&#xD;
예제 1var o = {};(function(o){&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;var _name = "";&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(o, 'name', {&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;get:function(){ return _name; },&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;set:function(wcb){&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;return function(newValue){ &lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;return _name = newValue+"_new";&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;}&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;}(o),&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;//value:"init", //기본값 (get,set 과 같이 사용불가)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;//writable: true, //값 수정 가능여부 (get,set 과 같이 사용불가)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;enumerable: true, //목록 열거시 표시여부&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;configurable: true //삭제 가능여부. writable 속성 변경 가능 여부&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;});})(o);o.x = "xVal"o.y = "yVal"  &#xD;
console.log(o.name); //기본값 _name의 값인  ""가 나와야함.//=&amp;gt; ""o.name = "111"; //set 111_new 가 될 것으로 예상.console.log(o.name); //get 111_new 를 출력//=&amp;gt; 111_newfor(var x in o){console.log(x)}//=&amp;gt; name,x,ydelete o.name //삭제시도.//=&amp;gt; trueconsole.log(o.name); //삭제 안되고 값니 나와야함.//=&amp;gt; undefined  &#xD;
for(var x in o){ //삭제되어서 사라짐console.log(x)}//=&amp;gt; x,y  
- - - - - -

예제2  
var o = {};(function(o){&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;var _name = "";&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(o, 'name', {&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;value:"init", //기본값 (get,set 과 같이 사용불가)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;writable: false, //값 수정 가능여부 (get,set 과 같이 사용불가)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;enumerable: false, //목록 열거시 표시여부&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;//configurable: false //삭제 가능여부. writable 속성 변경 가능 여부&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;});})(o);o.x = "xVal"o.y = "yVal"  &#xD;
console.log(o.name); //기본값 undefined가 나와야함.//=&amp;gt; inito.name = "111"; //값이 수정 안되야함. (writable: false 효과)console.log(o.name); //init 를 출력//=&amp;gt; init  &#xD;
for(var x in o){console.log(x)}//=&amp;gt; x,y //name은 출력 안됨. (enumerable: false 효과)  &#xD;
- - - - - -

input.value 를 재정의 하는 경우https://stackoverflow.com/questions/42427606/event-when-input-value-is-changed-by-javascript  
&lt;span style="white-space:pre"&gt;&lt;/span&gt;descriptor.set = function(val) {&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//changing to native setter to prevent the loop while setting the value&lt;span style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(this, "value", {set:inputSetter});&lt;span style="white-space:pre"&gt;&lt;/span&gt;this.value = val;&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//Custom code triggered when $input.value is set&lt;span style="white-space:pre"&gt;&lt;/span&gt;console.log("Value set: "+val);&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//changing back to custom setter&lt;span style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(this, "value", descriptor);   &lt;span style="white-space:pre"&gt;&lt;/span&gt;$(this.parentNode).attr("data-val",val);&lt;span style="white-space:pre"&gt;&lt;/span&gt;}&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//Last add the new "value" descriptor to the $input element&lt;span style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(el, "value", descriptor);  
  



[🔗link](http://www.mins01.com/mh/tech/read/946)