---
title: "Object.defineProperty() , Object.defineProperties()"
date: 2015-05-06 11:19:32 +0900
categories: [javascript]
---

- Object.defineProperty()Â 
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")
- [https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx](https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx "https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx")

- Object.defineProperties()
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties")
- [https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx](https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx "https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx")


- - - - - -

ê°„ë‹¨ì„¤ëª…ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•œë‹¤.  
ë¬¼ë¡  obj.p = "x" ì²˜ëŸ¼ í•  ìˆ˜ ìˆëŠ”ë°.  
ìœ„ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„¸ ì„¤ì •ì´ ê°€ëŠ¥. readOnly, ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆëœ get ê³¼ set ë“±ë“±  
- - - - - -

- ECNAScript 5.1ë¶€í„° ì§€ì›.
- IEëŠ” 8ì—ì„œ ë¶€ë¶„ ì§€ì›, 9ë¶€í„° ì •ì‹ ì§€ì›

&lt;div&gt;- - - - - -&amp;#xD;
&amp;#xD;
&lt;/div&gt;&lt;div&gt;&amp;lt;div&amp;gt;Object.defineProperty(obj, prop, descriptor)&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;  &amp;amp;#xD;
&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;# ê¸°ë³¸ ì„¤ì • ë° ì„¤ëª…&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;descriptor = {&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;configurable:flase, //trueì¼ ê²½ìš° í”„ë¡œí¼í‹° ì‚­ì œ(delete obj.prop) ê°€ëŠ¥, writable ì„¤ì • ë³€ê²½ ê°€ëŠ¥&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;enumerable:false, //trueì¼ ê²½ìš° for(var x in obj) ì—ì„œ í”„ë¡œí¼í‹°ë¡œ ë³´ì„&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;value:undefined, //ê¸°ë³¸ê°’ ì„¤ì •. get,set ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;writable:false, //ê°’ ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€. Â get,set ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;get:undefined, //obj.prop ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ ë™ì‘. value,writable ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;amp;gt;&amp;amp;lt;/span&amp;amp;gt;set:undefined, //obj.prop ì— ê°’ì„ ë„£ì„ ë•Œ ë™ì‘. value,writable ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;}&amp;lt;/div&amp;gt;&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;- - - - - -&amp;#xD;
&amp;#xD;
ì˜ˆì œ 1&lt;/div&gt;&lt;div&gt;var o = {};&lt;/div&gt;&lt;div&gt;(function(o){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var _name = "";&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(o, 'name', {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;get:function(){ return _name; },&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;set:function(wcb){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;return function(newValue){Â &lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;return _name = newValue+"_new";&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}(o),&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//value:"init", //ê¸°ë³¸ê°’ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//writable: true, //ê°’ ìˆ˜ì • ê°€ëŠ¥ì—¬ë¶€ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;enumerable: true, //ëª©ë¡ ì—´ê±°ì‹œ í‘œì‹œì—¬ë¶€&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;configurable: true //ì‚­ì œ ê°€ëŠ¥ì—¬ë¶€. writable ì†ì„± ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;});&lt;/div&gt;&lt;div&gt;})(o);&lt;/div&gt;&lt;div&gt;o.x = "xVal"&lt;/div&gt;&lt;div&gt;o.y = "yVal"&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;console.log(o.name); //ê¸°ë³¸ê°’ _nameì˜ ê°’ì¸ Â ""ê°€ ë‚˜ì™€ì•¼í•¨.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; ""&lt;/div&gt;&lt;div&gt;o.name = "111"; //set 111_new ê°€ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒ.&lt;/div&gt;&lt;div&gt;console.log(o.name); //get 111_new ë¥¼ ì¶œë ¥&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; 111_new&lt;/div&gt;&lt;div&gt;for(var x in o){&lt;/div&gt;&lt;div&gt;console.log(x)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; name,x,y&lt;/div&gt;&lt;div&gt;delete o.name //ì‚­ì œì‹œë„.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; true&lt;/div&gt;&lt;div&gt;console.log(o.name); //ì‚­ì œ ì•ˆë˜ê³  ê°’ë‹ˆ ë‚˜ì™€ì•¼í•¨.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; undefined&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;for(var x in o){ //ì‚­ì œë˜ì–´ì„œ ì‚¬ë¼ì§&lt;/div&gt;&lt;div&gt;console.log(x)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; x,y&lt;/div&gt;  
- - - - - -

ì˜ˆì œ2  
&lt;div&gt;var o = {};&lt;/div&gt;&lt;div&gt;(function(o){&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;var _name = "";&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(o, 'name', {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;value:"init", //ê¸°ë³¸ê°’ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;writable: false, //ê°’ ìˆ˜ì • ê°€ëŠ¥ì—¬ë¶€ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;enumerable: false, //ëª©ë¡ ì—´ê±°ì‹œ í‘œì‹œì—¬ë¶€&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//configurable: false //ì‚­ì œ ê°€ëŠ¥ì—¬ë¶€. writable ì†ì„± ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;});&lt;/div&gt;&lt;div&gt;})(o);&lt;/div&gt;&lt;div&gt;o.x = "xVal"&lt;/div&gt;&lt;div&gt;o.y = "yVal"&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;console.log(o.name); //ê¸°ë³¸ê°’ undefinedê°€ ë‚˜ì™€ì•¼í•¨.&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; init&lt;/div&gt;&lt;div&gt;o.name = "111"; //ê°’ì´ ìˆ˜ì • ì•ˆë˜ì•¼í•¨. (writable: false íš¨ê³¼)&lt;/div&gt;&lt;div&gt;console.log(o.name); //init ë¥¼ ì¶œë ¥&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; init&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;for(var x in o){&lt;/div&gt;&lt;div&gt;console.log(x)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;//=&amp;amp;gt; x,y //nameì€ ì¶œë ¥ ì•ˆë¨. (enumerable: false íš¨ê³¼)&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;- - - - - -

input.value ë¥¼ ì¬ì •ì˜ í•˜ëŠ” ê²½ìš°https://stackoverflow.com/questions/42427606/event-when-input-value-is-changed-by-javascript  
&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;descriptor.set = function(val) {&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//changing to native setter to prevent the loop while setting the value&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(this, "value", {set:inputSetter});&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;this.value = val;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//Custom code triggered when $input.value is set&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;console.log("Value set: "+val);&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//changing back to custom setter&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(this, "value", descriptor); Â Â &lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;$(this.parentNode).attr("data-val",val);&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;}&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;//Last add the new "value" descriptor to the $input element&lt;/div&gt;&lt;div&gt;&amp;lt;span style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;Object.defineProperty(el, "value", descriptor);&lt;/div&gt;  
  



[ğŸ”—link](http://www.mins01.com/mh/tech/read/946)