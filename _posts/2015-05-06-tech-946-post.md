---
title: "Object.defineProperty() , Object.defineProperties()"
date: 2015-05-06 11:19:32 +0900
categories: 
---
[ğŸ”—link](http://www.mins01.com/mh/tech/read/946)
***


- Object.defineProperty()Â 
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")
- [https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx](https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx "https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx")

- Object.defineProperties()
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties")
- [https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx](https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx "https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx")


- - - - - -

ê°„ë‹¨ì„¤ëª…

ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•œë‹¤.  
ë¬¼ë¡  obj.p = "x" ì²˜ëŸ¼ í•  ìˆ˜ ìˆëŠ”ë°.  
ìœ„ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„¸ ì„¤ì •ì´ ê°€ëŠ¥. readOnly, ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆëœ get ê³¼ set ë“±ë“±

  
- - - - - -

- ECNAScript 5.1ë¶€í„° ì§€ì›.
- IEëŠ” 8ì—ì„œ ë¶€ë¶„ ì§€ì›, 9ë¶€í„° ì •ì‹ ì§€ì›

- - - - - -



Object.defineProperty(obj, prop, descriptor)

  


# ê¸°ë³¸ ì„¤ì • ë° ì„¤ëª…

descriptor = {

	configurable:flase, //trueì¼ ê²½ìš° í”„ë¡œí¼í‹° ì‚­ì œ(delete obj.prop) ê°€ëŠ¥, writable ì„¤ì • ë³€ê²½ ê°€ëŠ¥

	enumerable:false, //trueì¼ ê²½ìš° for(var x in obj) ì—ì„œ í”„ë¡œí¼í‹°ë¡œ ë³´ì„

	value:undefined, //ê¸°ë³¸ê°’ ì„¤ì •. get,set ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€.

	writable:false, //ê°’ ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€. Â get,set ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€.

	get:undefined, //obj.prop ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ ë™ì‘. value,writable ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€

	set:undefined, //obj.prop ì— ê°’ì„ ë„£ì„ ë•Œ ë™ì‘. value,writable ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€

}



  
- - - - - -

ì˜ˆì œ 1



var o = {};

(function(o){

	var _name = "";

	Object.defineProperty(o, 'name', {

		

		get:function(){ return _name; },

		set:function(wcb){

				return function(newValue){Â 

					return _name = newValue+"_new";

			}

		}(o),

		//value:"init", //ê¸°ë³¸ê°’ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)

		//writable: true, //ê°’ ìˆ˜ì • ê°€ëŠ¥ì—¬ë¶€ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)

		enumerable: true, //ëª©ë¡ ì—´ê±°ì‹œ í‘œì‹œì—¬ë¶€

		configurable: true //ì‚­ì œ ê°€ëŠ¥ì—¬ë¶€. writable ì†ì„± ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€

	});

})(o);

o.x = "xVal"

o.y = "yVal"

  


console.log(o.name); //ê¸°ë³¸ê°’ _nameì˜ ê°’ì¸ Â ""ê°€ ë‚˜ì™€ì•¼í•¨.

//=&gt; ""

o.name = "111"; //set 111_new ê°€ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒ.

console.log(o.name); //get 111_new ë¥¼ ì¶œë ¥

//=&gt; 111_new

for(var x in o){

console.log(x)

}

//=&gt; name,x,y

delete o.name //ì‚­ì œì‹œë„.

//=&gt; true

console.log(o.name); //ì‚­ì œ ì•ˆë˜ê³  ê°’ë‹ˆ ë‚˜ì™€ì•¼í•¨.

//=&gt; undefined

  


for(var x in o){ //ì‚­ì œë˜ì–´ì„œ ì‚¬ë¼ì§

console.log(x)

}

//=&gt; x,y



  
- - - - - -

ì˜ˆì œ2

  


var o = {};

(function(o){

	var _name = "";

	Object.defineProperty(o, 'name', {

		value:"init", //ê¸°ë³¸ê°’ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)

		writable: false, //ê°’ ìˆ˜ì • ê°€ëŠ¥ì—¬ë¶€ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)

		enumerable: false, //ëª©ë¡ ì—´ê±°ì‹œ í‘œì‹œì—¬ë¶€

		//configurable: false //ì‚­ì œ ê°€ëŠ¥ì—¬ë¶€. writable ì†ì„± ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€

	});

})(o);

o.x = "xVal"

o.y = "yVal"

  


console.log(o.name); //ê¸°ë³¸ê°’ undefinedê°€ ë‚˜ì™€ì•¼í•¨.

//=&gt; init

o.name = "111"; //ê°’ì´ ìˆ˜ì • ì•ˆë˜ì•¼í•¨. (writable: false íš¨ê³¼)

console.log(o.name); //init ë¥¼ ì¶œë ¥

//=&gt; init

  


for(var x in o){

console.log(x)

}

//=&gt; x,y //nameì€ ì¶œë ¥ ì•ˆë¨. (enumerable: false íš¨ê³¼)

  
- - - - - -

input.value ë¥¼ ì¬ì •ì˜ í•˜ëŠ” ê²½ìš°

https://stackoverflow.com/questions/42427606/event-when-input-value-is-changed-by-javascript

  


				descriptor.set = function(val) {

					

					//changing to native setter to prevent the loop while setting the value

					Object.defineProperty(this, "value", {set:inputSetter});

					this.value = val;

					

					//Custom code triggered when $input.value is set

					console.log("Value set: "+val);

					

					//changing back to custom setter

					Object.defineProperty(this, "value", descriptor); Â Â 

					$(this.parentNode).attr("data-val",val);

				}

				

				//Last add the new "value" descriptor to the $input element

				Object.defineProperty(el, "value", descriptor);



  
  

