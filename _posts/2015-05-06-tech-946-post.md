---
title: "Object.defineProperty() , Object.defineProperties()"
date: 2015-05-06 11:19:32 +0900
categories: [javascript]
---

- Object.defineProperty()Â 
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")
- [https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx](https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx "https://msdn.microsoft.com/library/dd548687(v=vs.94).aspx")

- Object.defineProperties()
- [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties")
- [https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx](https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx "https://msdn.microsoft.com/library/ff800817(v=vs.94).aspx")


- - - - - -

ê°„ë‹¨ì„¤ëª…ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ì„¤ì •í•œë‹¤.  
ë¬¼ë¡  obj.p = "x" ì²˜ëŸ¼ í•  ìˆ˜ ìˆëŠ”ë°.  
ìœ„ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„¸ ì„¤ì •ì´ ê°€ëŠ¥. readOnly, ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆëœ get ê³¼ set ë“±ë“±  
- - - - - -

- ECNAScript 5.1ë¶€í„° ì§€ì›.
- IEëŠ” 8ì—ì„œ ë¶€ë¶„ ì§€ì›, 9ë¶€í„° ì •ì‹ ì§€ì›

- - - - - -&#xD;
&#xD;
&lt;div&gt;Object.defineProperty(obj, prop, descriptor)&lt;/div&gt;&lt;div&gt;  &amp;#xD;
&lt;/div&gt;&lt;div&gt;# ê¸°ë³¸ ì„¤ì • ë° ì„¤ëª…&lt;/div&gt;&lt;div&gt;descriptor = {&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;configurable:flase, //trueì¼ ê²½ìš° í”„ë¡œí¼í‹° ì‚­ì œ(delete obj.prop) ê°€ëŠ¥, writable ì„¤ì • ë³€ê²½ ê°€ëŠ¥&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;enumerable:false, //trueì¼ ê²½ìš° for(var x in obj) ì—ì„œ í”„ë¡œí¼í‹°ë¡œ ë³´ì„&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;value:undefined, //ê¸°ë³¸ê°’ ì„¤ì •. get,set ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€.&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;writable:false, //ê°’ ìˆ˜ì • ê°€ëŠ¥ ì—¬ë¶€. Â get,set ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€.&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;get:undefined, //obj.prop ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ ë™ì‘. value,writable ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€&lt;/div&gt;&lt;div&gt;&amp;lt;span class="Apple-tab-span" style="white-space:pre"&amp;gt;&amp;lt;/span&amp;gt;set:undefined, //obj.prop ì— ê°’ì„ ë„£ì„ ë•Œ ë™ì‘. value,writable ê³¼ ê°™ì´ ì‚¬ìš© ë¶ˆê°€&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;  &#xD;
- - - - - -&#xD;
&#xD;
ì˜ˆì œ 1var o = {};(function(o){&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;var _name = "";&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(o, 'name', {&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;get:function(){ return _name; },&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;set:function(wcb){&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;return function(newValue){Â &lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;return _name = newValue+"_new";&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;}&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;}(o),&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;//value:"init", //ê¸°ë³¸ê°’ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;//writable: true, //ê°’ ìˆ˜ì • ê°€ëŠ¥ì—¬ë¶€ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;enumerable: true, //ëª©ë¡ ì—´ê±°ì‹œ í‘œì‹œì—¬ë¶€&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;configurable: true //ì‚­ì œ ê°€ëŠ¥ì—¬ë¶€. writable ì†ì„± ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;});})(o);o.x = "xVal"o.y = "yVal"  &#xD;
console.log(o.name); //ê¸°ë³¸ê°’ _nameì˜ ê°’ì¸ Â ""ê°€ ë‚˜ì™€ì•¼í•¨.//=&amp;gt; ""o.name = "111"; //set 111_new ê°€ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒ.console.log(o.name); //get 111_new ë¥¼ ì¶œë ¥//=&amp;gt; 111_newfor(var x in o){console.log(x)}//=&amp;gt; name,x,ydelete o.name //ì‚­ì œì‹œë„.//=&amp;gt; trueconsole.log(o.name); //ì‚­ì œ ì•ˆë˜ê³  ê°’ë‹ˆ ë‚˜ì™€ì•¼í•¨.//=&amp;gt; undefined  &#xD;
for(var x in o){ //ì‚­ì œë˜ì–´ì„œ ì‚¬ë¼ì§console.log(x)}//=&amp;gt; x,y  
- - - - - -

ì˜ˆì œ2  
var o = {};(function(o){&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;var _name = "";&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(o, 'name', {&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;value:"init", //ê¸°ë³¸ê°’ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;writable: false, //ê°’ ìˆ˜ì • ê°€ëŠ¥ì—¬ë¶€ (get,set ê³¼ ê°™ì´ ì‚¬ìš©ë¶ˆê°€)&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;enumerable: false, //ëª©ë¡ ì—´ê±°ì‹œ í‘œì‹œì—¬ë¶€&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;//configurable: false //ì‚­ì œ ê°€ëŠ¥ì—¬ë¶€. writable ì†ì„± ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€&lt;span class="Apple-tab-span" style="white-space:pre"&gt;&lt;/span&gt;});})(o);o.x = "xVal"o.y = "yVal"  &#xD;
console.log(o.name); //ê¸°ë³¸ê°’ undefinedê°€ ë‚˜ì™€ì•¼í•¨.//=&amp;gt; inito.name = "111"; //ê°’ì´ ìˆ˜ì • ì•ˆë˜ì•¼í•¨. (writable: false íš¨ê³¼)console.log(o.name); //init ë¥¼ ì¶œë ¥//=&amp;gt; init  &#xD;
for(var x in o){console.log(x)}//=&amp;gt; x,y //nameì€ ì¶œë ¥ ì•ˆë¨. (enumerable: false íš¨ê³¼)  &#xD;
- - - - - -

input.value ë¥¼ ì¬ì •ì˜ í•˜ëŠ” ê²½ìš°https://stackoverflow.com/questions/42427606/event-when-input-value-is-changed-by-javascript  
&lt;span style="white-space:pre"&gt;&lt;/span&gt;descriptor.set = function(val) {&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//changing to native setter to prevent the loop while setting the value&lt;span style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(this, "value", {set:inputSetter});&lt;span style="white-space:pre"&gt;&lt;/span&gt;this.value = val;&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//Custom code triggered when $input.value is set&lt;span style="white-space:pre"&gt;&lt;/span&gt;console.log("Value set: "+val);&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//changing back to custom setter&lt;span style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(this, "value", descriptor); Â Â &lt;span style="white-space:pre"&gt;&lt;/span&gt;$(this.parentNode).attr("data-val",val);&lt;span style="white-space:pre"&gt;&lt;/span&gt;}&lt;span style="white-space:pre"&gt;&lt;/span&gt;&lt;span style="white-space:pre"&gt;&lt;/span&gt;//Last add the new "value" descriptor to the $input element&lt;span style="white-space:pre"&gt;&lt;/span&gt;Object.defineProperty(el, "value", descriptor);  
  



[ğŸ”—link](http://www.mins01.com/mh/tech/read/946)